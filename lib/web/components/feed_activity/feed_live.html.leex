<div
  role="feed"
  aria-live="assertive"
  aria-atomic="true"
  class="">
    <div class="flex flex-col mx-auto divide-y dark:divide-gray-600 max-w-7xl">

    <%= if not is_list(@feed) or length(@feed) == 0 do %>
      <div class="p-4 text-center">
        <div class="mb-3 text-3xl">🧐</div>
        <span class="text-base font-medium text-gray-700 dark:text-gray-100">Take a deep breath...<span>
      </div>
    <% else %>
    <div id="feed_future" phx-update="prepend">
      <%= for entry <- @feed_future do %>
      <article
        id="<%= e(entry, :activity, :id, e(entry, :activity, :object, :id, "unknown-activity")) %>>"
        role="article"
        tabIndex="0"
        aria-label="user activity"
        class="lg:px-3">
        <%= live_component(
        @socket,
        ActivityLive,
        assigns
        |> assigns_merge(
          # id: e(entry, :activity, :id, e(entry, :id, nil)),
          activity: e(entry, :activity, entry),# |> IO.inspect
        )
      ) %>
      </article>
      <% end %>
    </div>
    <div id="feed_past" phx-update="append">
      <%= for entry <- @feed do %>
      <article
        id="<%= e(entry, :activity, :id, e(entry, :activity, :object, :id, "unknown-activity")) %>>"
        role="article"
        tabIndex="0"
        aria-label="user activity"
        class="lg:px-3">
        <%= live_component(
        @socket,
        ActivityLive,
        assigns
        |> assigns_merge(
          # id: e(entry, :activity, :id, e(entry, :id, nil)),
          activity: e(entry, :activity, entry),# |> IO.inspect
        )
      ) %>
      </article>
      <% end %>
    </div>

    <%= if e(@page_info, :after, nil) do %>
    <div class="flex justify-center w-full p-3 mx-auto place-items-center">
      <button phx-click="Bonfire.Social.Feeds:load_more" phx-value-after="<%= e(@page_info, :after, nil) %>" href="?Bonfire.Social.Feeds[after]=<%= e(@page_info, :after, nil) %>" class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">Load more</button>
    </div>
    <% end %>

    <% end %>

    </div>
</div>
